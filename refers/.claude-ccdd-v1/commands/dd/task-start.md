---
allowed-tools: Bash, Read, Write, LS, Task
---

# å¼€å§‹æ‰§è¡Œä»»åŠ¡

å¼€å§‹æ‰§è¡ŒæŒ‡å®šçš„ä»»åŠ¡ï¼Œå»ºç«‹ä»»åŠ¡æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶è¿›å…¥ä»»åŠ¡å¼€å‘é—­ç¯ã€‚

## ç”¨æ³•
```
/dd:task-start <ä»»åŠ¡ID>
```

## å¿«é€Ÿæ£€æŸ¥

1. **æŸ¥æ‰¾ä»»åŠ¡æ–‡ä»¶ï¼š**
   ```bash
   # è§£æä»»åŠ¡IDæ ¼å¼ï¼šprd_name:task_num
   if [[ "$ARGUMENTS" != *:* ]]; then
     echo "âŒ ä»»åŠ¡IDæ ¼å¼é”™è¯¯ï¼Œåº”ä¸ºï¼š<PRDåç§°>:<ä»»åŠ¡ç¼–å·>"
     echo "ç¤ºä¾‹ï¼šç”¨æˆ·è®¤è¯ç³»ç»Ÿ:001"
     exit 1
   fi
   
   prd_name="${ARGUMENTS%%:*}"
   task_num="${ARGUMENTS##*:}"
   task_file=".claude/epics/$prd_name/$task_num.md"
   
   if [ ! -f "$task_file" ]; then
     echo "âŒ ä»»åŠ¡ä¸å­˜åœ¨ï¼š$task_file"
     echo "ğŸ’¡ è¿è¡Œ /dd:task-list æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡"
     exit 1
   fi
   ```

2. **æ£€æŸ¥ä»»åŠ¡çŠ¶æ€ï¼š**
   ```bash
   status=$(grep "^çŠ¶æ€:" "$task_file" | sed 's/^çŠ¶æ€: *//')
   if [ "$status" = "å·²å®Œæˆ" ]; then
     echo "âœ… ä»»åŠ¡å·²å®Œæˆï¼š$ARGUMENTS"
     echo "ğŸ’¡ è¿è¡Œ /dd:task-list æŸ¥çœ‹å…¶ä»–ä»»åŠ¡"
     exit 0
   fi
   ```

3. **éªŒè¯ä¾èµ–å…³ç³»ï¼š**
   ```bash
   dependencies=$(grep "^ä¾èµ–:" "$task_file" | sed 's/^ä¾èµ–: *\[//; s/\]//')
   if [ -n "$dependencies" ]; then
     for dep in ${dependencies//,/ }; do
       dep_file=$(find .claude/epics -name "$dep.md" | head -1)
       dep_status=$(grep "^çŠ¶æ€:" "$dep_file" | sed 's/^çŠ¶æ€: *//')
       if [ "$dep_status" != "å·²å®Œæˆ" ]; then
         echo "âŒ ä¾èµ–ä»»åŠ¡ $dep æœªå®Œæˆï¼ˆçŠ¶æ€ï¼š$dep_statusï¼‰"
         exit 1
       fi
     done
   fi
   ```

## æ‰§è¡Œæ­¥éª¤

### 1. å»ºç«‹ä»»åŠ¡ä¸Šä¸‹æ–‡

æå–ä»»åŠ¡ä¿¡æ¯ï¼š
```bash
task_name=$(grep "^åç§°:" "$task_file" | sed 's/^åç§°: *//')
epic_name=$(basename $(dirname "$task_file"))
current_time=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
```

åˆ›å»ºå½“å‰ä»»åŠ¡ä¸Šä¸‹æ–‡æ–‡ä»¶ï¼š
```bash
cat > .claude/context/current-task.md << EOF
---
ä»»åŠ¡ID: $ARGUMENTS
ä»»åŠ¡åç§°: $task_name
Epic: $epic_name
å¼€å§‹æ—¶é—´: $current_time
çŠ¶æ€: è¿›è¡Œä¸­
ä¸Šæ¬¡æ›´æ–°: $current_time
---

# å½“å‰ä»»åŠ¡ï¼š$task_name

## ä»»åŠ¡ç›®æ ‡
$(sed -n '/^## ç›®æ ‡/,/^## /p' "$task_file" | head -n -1 | tail -n +2)

## æ‰§è¡Œè®¡åˆ’
[å°†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ›´æ–°]

## å®Œæˆè¿›åº¦
- [ ] ä»»åŠ¡åˆ†æå®Œæˆ
- [ ] å®æ–½æ–¹æ¡ˆç¡®å®š
- [ ] ä»£ç å®ç°å®Œæˆ
- [ ] è‡ªæˆ‘éªŒè¯é€šè¿‡

## é‡åˆ°çš„é—®é¢˜
[è®°å½•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„é—®é¢˜]

## è§£å†³æ–¹æ¡ˆ
[è®°å½•é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ]
EOF
```

### 2. å¯¼å…¥è¿›åº¦æ›´æ–°å‡½æ•°
```bash
# å¯¼å…¥task-progressçš„åº•å±‚å‡½æ•°
source .claude/commands/dd/task-progress.md
```

### 3. ä»»åŠ¡åˆ†æé˜¶æ®µ

ä½¿ç”¨æ™ºèƒ½ä½“è¿›è¡Œæ·±åº¦åˆ†æï¼š
```yaml
Task:
  description: "åˆ†æä»»åŠ¡æ‰§è¡Œè®¡åˆ’"
  subagent_type: "code-analyzer"
  prompt: |
    åˆ†æä»»åŠ¡ï¼š$task_nameï¼ˆID: $ARGUMENTSï¼‰
    
    ä»»åŠ¡æ–‡ä»¶å†…å®¹ï¼š
    $(cat "$task_file")
    
    è¯·æä¾›ï¼š
    1. è¯¦ç»†çš„å®æ–½æ­¥éª¤åˆ†è§£
    2. éœ€è¦åˆ†æçš„æ–‡ä»¶æ¸…å•
    3. å¯èƒ½çš„é£é™©ç‚¹å’Œæ³¨æ„äº‹é¡¹
    4. ä¸å…¶ä»–ä»»åŠ¡/ç»„ä»¶çš„é›†æˆè€ƒè™‘
    5. éªŒæ”¶æ ‡å‡†çš„å…·ä½“æ£€æŸ¥æ–¹æ³•
    
    é‡è¦ï¼šä¸¥æ ¼éµå¾ªç»å¯¹å®‰å…¨è§„åˆ™
    - ç¦æ­¢ä»»ä½•gitæ“ä½œ
    - åªèƒ½åœ¨.claude/ç›®å½•å†…ä¿®æ”¹æ–‡ä»¶
    - åªæä¾›åˆ†æå’Œå»ºè®®ï¼Œä¸ç›´æ¥ä¿®æ”¹ä»£ç 
    
    åˆ†æå®Œæˆåè°ƒç”¨: epic_todo_update("$ARGUMENTS", "ä»»åŠ¡åˆ†æå®Œæˆ")
    
    ç¡®ä¿åˆ†æå…¨é¢ä¸”å®ç”¨ï¼Œä¸ºå®é™…å¼€å‘æä¾›æ˜ç¡®æŒ‡å¯¼ã€‚
```

### 4. è‡ªåŠ¨æ›´æ–°è¿›åº¦
```bash
# ä»»åŠ¡åˆ†æå®Œæˆåè‡ªåŠ¨æ›´æ–°Epicè¿›åº¦
epic_todo_update "$ARGUMENTS" "ä»»åŠ¡åˆ†æå’Œä¸Šä¸‹æ–‡å»ºç«‹å®Œæˆ"
```

### 3. æ›´æ–°ä»»åŠ¡çŠ¶æ€

æ›´æ–°ä»»åŠ¡æ–‡ä»¶ï¼š
```bash
current_time=$(date -u +"%Y-%m-%dT%H:%M:%SZ")
sed -i.bak "s/^çŠ¶æ€:.*/çŠ¶æ€: è¿›è¡Œä¸­/" "$task_file"
sed -i.bak "s/^æœ€åæ›´æ–°:.*/æœ€åæ›´æ–°: $current_time/" "$task_file"
rm "${task_file}.bak"
```

## è¾“å‡ºæ ¼å¼

```markdown
ğŸš€ å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼š$task_name

ğŸ“‹ ä»»åŠ¡ä¿¡æ¯ï¼š
  - ä»»åŠ¡IDï¼š$ARGUMENTS
  - Epicï¼š$epic_name
  - å¼€å§‹æ—¶é—´ï¼š$current_time

ğŸ“Š ä¾èµ–çŠ¶æ€ï¼š
  âœ… æ‰€æœ‰ä¾èµ–ä»»åŠ¡å·²å®Œæˆ

ğŸ¯ æ‰§è¡Œè®¡åˆ’ï¼š
  1. ä»»åŠ¡åˆ†æå’Œæ–¹æ¡ˆåˆ¶å®š
  2. åˆ†æ­¥éª¤å®æ–½ï¼ˆç”¨æˆ·æ‰§è¡Œï¼‰
  3. éªŒè¯å’Œæµ‹è¯•ï¼ˆç”¨æˆ·æ‰§è¡Œï¼‰
  4. å®Œæˆå’Œåæ€

ğŸ“ å·¥ä½œç©ºé—´ï¼š
  - ä»»åŠ¡ä¸Šä¸‹æ–‡ï¼š.claude/context/current-task.md
  - ä»»åŠ¡æ–‡ä»¶ï¼š$task_file

ğŸ’¡ é‡è¦æé†’ï¼š
  - AIä¸¥æ ¼éµå¾ªç»å¯¹å®‰å…¨è§„åˆ™
  - åªæä¾›åˆ†æå’Œå®æ–½å»ºè®®
  - æ‰€æœ‰ä»£ç ä¿®æ”¹ç”±ç”¨æˆ·æ‰§è¡Œ
  - ç¦æ­¢gitæ“ä½œå’Œè¿œç¨‹ä»“åº“è®¿é—®

ğŸ¯ ä¸‹ä¸€æ­¥æ“ä½œï¼š
  - ç»§ç»­ä»»åŠ¡: /dd:task-resume $ARGUMENTS
  - æš‚åœä»»åŠ¡: /dd:task-pause $ARGUMENTS  
  - å®Œæˆä»»åŠ¡: /dd:task-finish $ARGUMENTS
```

## é”™è¯¯å¤„ç†

### ä»»åŠ¡ä¸å­˜åœ¨
```
âŒ ä»»åŠ¡ä¸å­˜åœ¨ï¼š$ARGUMENTS

å»ºè®®æ“ä½œï¼š
- è¿è¡Œ /dd:task-list æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡
- è¿è¡Œ /dd:epic-list æŸ¥çœ‹æ‰€æœ‰Epic
- ç¡®è®¤ä»»åŠ¡IDæ ¼å¼æ­£ç¡®
```

### ä¾èµ–æœªæ»¡è¶³
```
âš ï¸ ä¾èµ–æ¡ä»¶æœªæ»¡è¶³

ä¾èµ–ä»»åŠ¡çŠ¶æ€ï¼š
{åŠ¨æ€æ˜¾ç¤ºå…·ä½“çš„ä¾èµ–ä»»åŠ¡å’ŒçŠ¶æ€}

å»ºè®®æ“ä½œï¼š
1. å…ˆå®Œæˆä¾èµ–ä»»åŠ¡
2. ç¡®è®¤ä»»åŠ¡å¯ä»¥å¹¶è¡Œæ‰§è¡Œ
```

## å®‰å…¨çº¦æŸ

ä¸¥æ ¼éµå¾ªDDç³»ç»Ÿç»å¯¹è§„åˆ™ï¼š
1. **ç¦æ­¢gitæ“ä½œ** - ä¸æ‰§è¡Œä»»ä½•gitå‘½ä»¤
2. **ç¦æ­¢è¿œç¨‹æ“ä½œ** - ä¸è®¿é—®GitHubç­‰è¿œç¨‹ä»“åº“
3. **æ–‡ä»¶æ“ä½œé™åˆ¶** - åªèƒ½åœ¨.claude/ç›®å½•å†…ä¿®æ”¹æ–‡ä»¶
4. **ç”¨æˆ·æ§åˆ¶åŸåˆ™** - AIåªæä¾›åˆ†æå»ºè®®ï¼Œç”¨æˆ·ä¿æŒå®Œå…¨æ§åˆ¶æƒ