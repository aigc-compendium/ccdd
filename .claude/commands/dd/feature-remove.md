---
allowed-tools: Read, Bash, Glob
---

# DD 功能删除

安全删除功能及其相关文档和议题.

## 功能概述

完整删除功能:

- 删除功能文档和议题
- 检查依赖关系
- 更新功能状态统计
- 清理相关引用

## 删除流程

### 1. 依赖检查

检查是否有其他功能依赖:

- 扫描所有功能文档
- 查找依赖引用
- 确认删除安全性

### 2. 确认删除

向用户确认删除操作:

```
⚠️ 准备删除功能: {功能名}
📁 将删除以下内容:
  - 功能文档 (overview.md, technical.md, acceptance.md)
  - 所有议题文件 ({N}个议题)
  - 功能目录

🔗 依赖检查:
  - 被依赖功能: {依赖列表或"无"}

❓ 确认删除？[y/N]
```

### 3. 执行删除

删除功能相关文件:

- 删除整个功能目录
- 更新项目状态统计
- 记录删除日志

## 安全约束

- 只能删除状态为"未开始"的功能
- 有依赖关系的功能需要先解除依赖
- 删除前必须用户明确确认
- 保留删除日志记录

## 使用方式

```bash
/dd:feature-remove <功能名>
```

## 输出格式

```
✅ 功能删除完成！
📊 更新后统计:
  总功能数: {N-1}个
  删除功能: {功能名}
  删除时间: {时间戳}
```
