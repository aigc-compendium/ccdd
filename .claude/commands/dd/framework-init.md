---
allowed-tools: Task, Write, Read, Edit
---

# DD 架构设计

深度思考技术选型和架构模式, 生成项目整体架构设计文档.

## 功能概述

基于需求和团队能力设计架构:

- 技术选型分析和建议
- 架构模式选择和设计
- 系统组件划分
- 数据流和接口设计

## 执行流程

### 1. 需求分析

读取项目上下文:

- PRD 需求文档
- 团队技术栈能力
- 性能和扩展性要求
- 时间和资源约束

### 2. 深度思考分析

使用 Task 工具调用 framework-architect 智能体:

- 评估不同技术方案优劣
- 分析架构模式适用性
- 考虑未来扩展和维护
- 识别技术风险和挑战

### 3. 架构设计

生成架构设计方案:

- 整体架构图和说明
- 技术栈选择和理由
- 核心组件设计
- 数据库设计原则
- API 设计规范

## 输出结果

更新 `.claude/context/architecture.md`:

```markdown
# 项目架构设计

## 技术选型

- 后端: {选择的后端技术}
- 前端: {选择的前端技术}
- 数据库: {数据库选择}
- 部署: {部署方案}

## 架构模式

- 整体架构: {架构模式}
- 代码组织: {项目结构}
- 数据流设计: {数据处理流程}

## 核心组件

{各组件设计和职责}
```

## 完成后提示

```
✅ 架构设计完成！
📝 建议下一步操作:
   /dd:prd-decompose  - 开始需求拆解
```

## 文档生成规范

### 中英文间距要求

所有生成的文档内容必须遵循以下格式规范：

- **中英文混合文本**：英文单词与中文字符之间必须有一个空格
- **示例**：`这是一个 React 项目` 而不是 `这是一个React项目`
- **适用范围**：所有技术文档、架构说明、组件描述等
- **特殊情况**：标点符号前后不需要额外空格

## 深度思考要点

- **技术选型合理性** - 匹配团队能力和项目需求
- **架构可扩展性** - 支持未来功能扩展
- **开发效率** - 提高团队开发效率
- **维护成本** - 考虑长期维护复杂度
